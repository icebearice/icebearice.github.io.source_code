---
layout: article
title: Linux硬链接与软链接
date: 2019-05-06 14:48:04
updated: 2019-05-06 14:48:20
categories: 
  - Linux
tags:
  - Linux
---

转载自: https://www.cnblogs.com/crazylqy/p/5821105.html

Linux 系统中有**软链接**和**硬链接**两种特殊的“文件”。

**软链接**可以看作是**Windows中的快捷方式**，可以让你快速链接到目标档案或目录。

![img](Linux硬链接与软链接/u=3599640089,3204948493&fm=85&s=5BE5964614EB731113978A7F03005058.jpg)

**硬链接**则透过文件系统的inode来产生新档名，而不是产生新档案。

磁盘分区会被分为两个部分: Inode区 与 Data Block(实际数据放置在数据区域中)

Inode是文件在文件系统中的唯一标识 访问一个文件的时候必须先找到并读取这个文件的Inode

Inode里面存储了文件的很多重要参数, 其中唯一标识称为Inumber, 创建时间ctime, 修改时间mtime, 文件大小, 属主 归属的用户组, 读写权限, 数据所在的block号等信息

磁盘分区会根据inode的数量进行分区, 比如文件数量很多而文件都很小, 则需要Inode的数量就会较多, 方便索引全部文件

Inode不记录文件名, 文件名记录在目录文件的Block中

硬链接: 多个档名对应同一个Inode, 借助Inode来产生新的档名, 从而产生新的档名链接

**硬链接**

多个档名对应同一个inode，硬链接只是在某个目录下新增一笔档名链 接到某个inode号码的关联记录而已。如果将上图中任何一个档名删除，档案的inode与block都还存在，依然还可以通过另一个档名来读取正确的档 案数据。此外，不论用哪一个档名来编辑，最终的结果都会写入相同的inode和block中，因此均能进行数据的修改。

**软连接**

软连接就是建立一个独立的文件，而这个文件会让数据的读取指向它link的那个档案的档名，由于只是作为**指向的动作**，所以当来源档案被删除之后，软连接的档案无法开启，因为找不到原始档名。连结档的内容只有档名，根据档名链接到正确的目录进一步取得目标档案的inode，最终就能够读取到正确的数据。如果目标档案的原始档名被删除了那么整个环节就进行不下去了。